<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Buscador LogÃ­stico Profesional HN</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #1a1a1a; color: white; padding: 20px; }
        .container { max-width: 600px; margin: auto; }
        input { 
            width: 100%; padding: 15px; border-radius: 10px; border: none; 
            font-size: 18px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);
        }
        .results { background: #2a2a2a; border-radius: 10px; margin-top: 10px; overflow: hidden; }
        .item { 
            padding: 15px; border-bottom: 1px solid #333; cursor: pointer; 
            transition: 0.2s; 
        }
        .item:hover { background: #3a3a3a; }
        .item strong { color: #4db8ff; display: block; }
        .item small { color: #aaa; font-size: 12px; }
    </style>
</head>
<body>

<div class="container">
    <h2>ðŸ”Ž Buscador Global Honduras</h2>
    <p>Datos de OpenStreetMap (Incluye colonias, fincas y barrios)</p>
    <input type="text" id="search" placeholder="Escribe: Finca, Colonia o Barrio..." onkeyup="buscar()">
    <div id="results" class="results"></div>
</div>

<script>
    let timer;
    function buscar() {
        const query = document.getElementById('search').value;
        const resDiv = document.getElementById('results');
        
        clearTimeout(timer);
        if (query.length < 3) { resDiv.innerHTML = ''; return; }

        timer = setTimeout(() => {
            // Photon es un motor de bÃºsqueda masivo basado en OpenStreetMap
            // Filtramos por latitud y longitud aproximada de Honduras para mayor precisiÃ³n
            const url = `https://photon.komoot.io/api/?q=${encodeURIComponent(query)}&lat=14.1&lon=-87.2&limit=10`;

            fetch(url)
            .then(res => res.json())
            .then(data => {
                resDiv.innerHTML = '';
                data.features.forEach(f => {
                    const p = f.properties;
                    // Solo mostramos si es en Honduras
                    if (p.country === "Honduras" || p.countrycode === "HN") {
                        resDiv.innerHTML += `
                            <div class="item" onclick="window.open('https://www.google.com/maps/search/${encodeURIComponent(p.name + ', ' + (p.city || '') + ', Honduras')}')">
                                <strong>${p.name || 'Sin nombre'}</strong>
                                <small>${p.city || ''} ${p.state || ''} - ${p.district || p.suburb || 'Barrio/Colonia'}</small>
                            </div>`;
                    }
                });
            });
        }, 300);
    }
</script>
</body>
</html>
